(this["webpackJsonpyoutube-api-demo"]=this["webpackJsonpyoutube-api-demo"]||[]).push([[0],{35:function(e,t,s){e.exports=s(66)},41:function(e,t,s){},66:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),n=s(17),o=s.n(n),i=(s(40),s(41),s(7)),c=s(80),l=s(8),p=(s(46),s(32)),d=s.n(p),u=s(33),m=s.n(u);const h=d.a.create({baseURL:"https://www.googleapis.com/youtube/v3",responseType:"json"});var _=[m()(h)];var b=Object(l.a)(..._),y=s(13);const E={error:null,items:[],loading:!1,query:"",nextPageToken:null};const g={sortBy:void 0,order:"asc"};var v=Object(l.c)({search:(e=E,t)=>{switch(t.type){case"SEARCH_YOUTUBE":const s=t.payload.request.params.pageToken?e.items:[];return Object(y.a)({},e,{items:s,loading:!0,error:null});case"SEARCH_YOUTUBE_SUCCESS":return Object(y.a)({},e,{loading:!1,items:e.items.concat(t.payload.data.items),query:t.payload.config.params.q,nextPageToken:t.payload.data.nextPageToken});case"SEARCH_YOUTUBE_FAIL":return Object(y.a)({},e,{loading:!1,error:t.error,items:[]});default:return e}},sort:(e=g,t)=>{switch(t.type){case"SET_SORT_BY":return Object(y.a)({},e,{sortBy:t.field});case"SET_ORDER":return Object(y.a)({},e,{order:t.order});default:return e}}});var S=Object(l.d)(v,b);function B(e,t=null){return{type:"SEARCH_YOUTUBE",payload:{request:{url:"/search",params:{part:"snippet",q:e,pageToken:t,maxResults:10,key:"AIzaSyAi0fTkob3XCUBNiQUw-UHQjZD8v8g8RgY"}}}}}function f(e){return{type:"SET_ORDER",order:e}}function C(e){return{type:"SET_SORT_BY",field:e}}var x=s(67);class T extends r.Component{constructor(e){super(e),this._loadMoreResults=this._loadMoreResults.bind(this)}render(){const e=this.props._loading?"Loading...":"See More Results";return a.a.createElement(x.a,{disabled:this.props._loading,color:"danger",size:"lg",onClick:this._loadMoreResults},e)}_loadMoreResults(){this.props.dispatch(B(this.props._query,this.props._nextPageToken))}}var k=Object(i.b)((function(e){return{_loading:e.search.loading,_query:e.search.query,_nextPageToken:e.search.nextPageToken}}))(T),N=s(34),O=s(68),w=s(69),D=s(70);class R extends r.Component{render(){const e=this.props,t=e.icon,s=e.text;return a.a.createElement(O.a,{className:"my-5"},a.a.createElement(w.a,{body:!0,className:"text-center p-5 justify-content-center",style:{minHeight:"30rem"}},a.a.createElement(N.a,{className:"mx-auto my-5",icon:t,size:"5x",spin:"spinner"===t}),a.a.createElement(D.a,{className:"lead"},s)))}}var A=R,j=s(71),U=s(72),q=s(73),Y=s(81);class I extends r.Component{constructor(e){super(e),this.state={query:""},this._onChange=this._onChange.bind(this),this._onSubmit=this._onSubmit.bind(this)}render(){const e=this.state.query;return a.a.createElement(O.a,{className:"py-5"},a.a.createElement(j.a,{onSubmit:this._onSubmit,className:"w-100"},a.a.createElement(U.a,{size:"lg"},a.a.createElement(q.a,{value:e,onChange:this._onChange,placeholder:"Search"}),a.a.createElement(Y.a,{addonType:"append"},a.a.createElement(x.a,{color:"danger",onClick:this._onSubmit},"Search Youtube")))))}_onChange(e){this.setState({query:e.target.value})}_onSubmit(e){e.preventDefault(),this.props.dispatch(B(this.state.query))}}var z=Object(i.b)()(I),P=s(12),H=s.n(P);class L extends r.Component{render(){if(this.props._loading&&this.props._items.length<=0)return a.a.createElement(A,{icon:"spinner"});if(this.props._error){const e=this.props._error,t=e.data||e.response.data.error.message;return a.a.createElement(A,{icon:"exclamation",text:t||"Some Error Occured"})}return this.props._items.length<=0?a.a.createElement(A,{icon:"search",text:"Search for videos"}):a.a.createElement(O.a,null,a.a.createElement("div",{className:"clearfix w-100 py-4"},a.a.createElement("div",{className:"float-right"},a.a.createElement(X,null),a.a.createElement(F,null))),a.a.createElement("div",{className:"card-deck"},this._renderItems()),a.a.createElement("div",{className:"text-center w-100 py-4"},a.a.createElement(k,null)))}_renderItems(){const e=this.props._items.filter(e=>"youtube#video"===e.id.kind);return"title"===this.props._sortBy&&("asc"===this.props._order?e.sort((e,t)=>e.snippet.title.localeCompare(t.snippet.title)):e.sort((e,t)=>t.snippet.title.localeCompare(e.snippet.title))),"publishedDate"===this.props._sortBy&&("asc"===this.props._order?e.sort((e,t)=>H.a.utc(e.snippet.publishedAt).diff(H.a.utc(t.snippet.publishedAt))):e.sort((e,t)=>H.a.utc(t.snippet.publishedAt).diff(H.a.utc(e.snippet.publishedAt)))),e.map(e=>a.a.createElement(te,{key:e.id.videoId,videoId:e.id.videoId,snippet:e.snippet}))}}var M=Object(i.b)((function(e){return{_loading:e.search.loading,_items:e.search.items,_error:e.search.error,_sortBy:e.sort.sortBy,_order:e.sort.order}}))(L),J=s(74);class Q extends r.Component{constructor(e){super(e),this._setSortByDate=this._setSortByDate.bind(this),this._setSortByTitle=this._setSortByTitle.bind(this)}render(){return a.a.createElement(J.a,{size:"sm",className:"mx-3"},a.a.createElement(x.a,{disabled:!0,color:"secondary"},"Sort By"),a.a.createElement(x.a,{color:"light",className:"title"===this.props._sortBy?"active":"",onClick:this._setSortByTitle}," Title "),a.a.createElement(x.a,{color:"light",className:"publishedDate"===this.props._sortBy?"active":"",onClick:this._setSortByDate}," Published Date "))}_setSortByTitle(){"title"!==this.props._sortBy&&this.props.dispatch(C("title"))}_setSortByDate(){"publishedDate"!==this.props._sortBy&&this.props.dispatch(C("publishedDate"))}}var F=Object(i.b)((function(e){return{_order:e.sort.order,_sortBy:e.sort.sortBy}}))(Q);class V extends r.Component{constructor(e){super(e),this._setAscending=this._setAscending.bind(this),this._setDescending=this._setDescending.bind(this)}render(){if(void 0===this.props._sortBy)return null;const e="asc"===this.props._order?"active":"",t="desc"===this.props._order?"active":"";return a.a.createElement(J.a,{size:"sm",className:"mx-3"},a.a.createElement(x.a,{disabled:!0,color:"secondary"},"Order"),a.a.createElement(x.a,{color:"light",className:e,onClick:this._setAscending}," Asc "),a.a.createElement(x.a,{color:"light",className:t,onClick:this._setDescending}," Desc "))}_setAscending(){"asc"!==this.props._order&&this.props.dispatch(f("asc"))}_setDescending(){"desc"!==this.props._order&&this.props.dispatch(f("desc"))}}var X=Object(i.b)((function(e){return{_order:e.sort.order,_sortBy:e.sort.sortBy}}))(V),Z=s(75),G=s(76),K=s(77),W=s(78),$=s(79);class ee extends r.Component{constructor(e){super(e),this.youtubeLink="https://www.youtube.com/watch?v=".concat(e.videoId),this._openYoutube=this._openYoutube.bind(this)}render(){const e=this.props.snippet,t=e.title,s=e.description,r=e.thumbnails,n=e.publishedAt,o=H()(n).fromNow();return a.a.createElement(w.a,{className:"mb-4"},a.a.createElement(Z.a,{top:!0,src:r.high.url}),a.a.createElement(G.a,null,a.a.createElement(x.a,{className:"position-absolute",style:{bottom:"0.4rem",right:"0.4rem"},color:"danger",size:"sm",onClick:this._openYoutube}," View ")),a.a.createElement(K.a,{className:"pb-0"},a.a.createElement(W.a,null," ",t," "),a.a.createElement(D.a,{className:"py-2"}," ",s," ")),a.a.createElement($.a,null,a.a.createElement("small",{className:"text-muted"}," Uploaded ",o," ")))}_openYoutube(){window.open(this.youtubeLink,"_blank")}}var te=ee,se=s(11),re=s(15);se.b.add(re.a),se.b.add(re.b),se.b.add(re.c);class ae extends r.Component{render(){return a.a.createElement(i.a,{store:S},a.a.createElement(c.a,null,a.a.createElement(z,null),a.a.createElement(M,null)))}}var ne=ae;o.a.render(a.a.createElement(ne,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.bbcde855.chunk.js.map